<!DOCTYPE html>
<html>
  <head>    
  <meta http-equiv="content-type" content="text/html; charset=utf-8">    
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">    
  <title>
    Blog:7UP-hue
  </title>
  
<link rel="stylesheet" href="./css/style.css">

  
<link rel="stylesheet" href="./css/prism.css">
 
  
<script src="./js/prism.js"></script>

<meta name="generator" content="Hexo 5.4.2"></head>




  <body>
    <div class="w-bg">
      <div id="stars"></div>
      <div id="stars2"></div>
      <div id="stars3"></div>
    </div>
    <div class="container">
      <div class="layout-header">
        <header class="header">
  <div class="title">
    <a href="./" class="logo">
      Blog:7UP-hue
    </a>
  </div>
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="./" class="menu-item-link">主页</a>
        </li>
      
        <li class="menu-item">
          <a href="./archives" class="menu-item-link">归档</a>
        </li>
      
        <li class="menu-item">
          <a href="./categories" class="menu-item-link">分类</a>
        </li>
      
        <li class="menu-item">
          <a href="./tags" class="menu-item-link">标签</a>
        </li>
      
        <li class="menu-item">
          <a href="./about" class="menu-item-link">关于</a>
        </li>
       
    </ul>
  </nav>
  <div></div>
</header>

      </div>
      <div class="layout-body">
        <article class="post posts">
  <div class="post-title">
    <h2 class="title">
      JavaScript事件
    </h2>
  </div>
  <div class="post-meta">
    <span class="post-time">
      2022-07-24
    </span>
  </div>
  <div class="post-content">
    <p>我对JavaScript对象的一些简单理解</p>
<span id="more"></span>
<h3 id="事件流"><a href="#事件流" class="headerlink" title="事件流"></a>事件流</h3><p>事件流描述的是从页面中接收事件的顺序</p>
<h4 id="1-事件冒泡"><a href="#1-事件冒泡" class="headerlink" title="1.事件冒泡"></a>1.事件冒泡</h4><p>事件开始时由最具体的元素（文档中嵌套层次最深的那个结点）接收，然后逐级向上传播到不具体的结点（文档）。即自下而上传播</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>xxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myDiv<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在上面的HTML页面中，如果点击了页面中的&lt;div&gt;元素,那么这个click的传播顺序如下：<br>1）&lt;div&gt;<br>2）&lt;body&gt;<br>3）&lt;html&gt;<br>4）document</p>
<h4 id="2-事件捕获"><a href="#2-事件捕获" class="headerlink" title="2.事件捕获"></a>2.事件捕获</h4><p>事件捕获的思想是不太具体的结点应该更早接收到事件，而最具体的事件应该最后接收到事件。即事件自下而上传播</p>
<h4 id="3-DOM事件流"><a href="#3-DOM事件流" class="headerlink" title="3.DOM事件流"></a>3.DOM事件流</h4><p>包括三个阶段：事件捕获阶段、处于目标阶段和事件冒泡阶段</p>
<h3 id="事件处理程序"><a href="#事件处理程序" class="headerlink" title="事件处理程序"></a>事件处理程序</h3><h4 id="1-HTML事件处理程序"><a href="#1-HTML事件处理程序" class="headerlink" title="1.HTML事件处理程序"></a>1.HTML事件处理程序</h4><p>某个元素支持的每种使劲按，都可以使用一个与相应事件处理程序同名的HTML特性来指定。在下面的代码中，点击按钮就会调用showMsg函数。</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">showMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">showMsg</span><span class="token punctuation">"</span></span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="2-DOM0级事件处理程序"><a href="#2-DOM0级事件处理程序" class="headerlink" title="2.DOM0级事件处理程序"></a>2.DOM0级事件处理程序</h4><p>通过JavaScript指定事件处理程序的传统方式，就是将一个函数赋值给一个事件处理程序属性。</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myBtn"</span><span class="token punctuation">)</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="3-DOM2级事件处理程序"><a href="#3-DOM2级事件处理程序" class="headerlink" title="3.DOM2级事件处理程序"></a>3.DOM2级事件处理程序</h4><p>“DOM2级事件”定义了两个方法，用于处理指定和删除事件处理程序的操作：addEventListener()和removeEventListener()</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span>  btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myBtn"</span><span class="token punctuation">)</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"onclick"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span> 
<span class="token comment">//最后这个布尔值参数如果是true，表示在捕获阶段调用事件处理程序；如果是false，表示在冒泡阶段调用事件处理程序。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>通过addEventListener()添加的事件处理程序只能通过removeEventListener()来移除；移除时传入的参数与添加时使用的参数相同，这也意味着通过addEventListener()添加的匿名函数将无法移除。</p>
<pre><code class="js">var btn = document.getElementById(&quot;myBtn&quot;)
btn.addEventListener(&quot;onclick&quot;, function()&#123;
  alert(this.id)
&#125;, false)
// 这里省略了其他代码
btn.removeEventListener(&quot;click&quot;, function()&#123; // 没有用
  alert(this.id)
&#125;, false)
// 上面的代码无法移除btn上的点击事件

var btn = document.getElementById(&quot;myBtn&quot;)
var handler = function() &#123;
  alert(this.id)
&#125;
btn.addEventListener(&quot;click&quot;, handler, false);
// 这里省略了其他代码
btn.removeEventListener(&quot;click&quot;, handler, false);
// 有效！
</code></pre>

  </div>
</article>

      </div>
      <div class="layout-footer">
        <footer class="footer">
  <div class="f-center">
    <p class="author">
      Theme is 
      <a href="/" target="_blank" class="footer-link">
        light
      </a> 
      by 
      <a href="https://github.com/7UP-hue" target="_blank" class="footer-link">
        7UP-hue
      </a>
    </p>    
    <p class="powered">
      Powered by 
      <a href="https://hexo.io/" target="_blank" rel="nofollow" class="footer-link">
        hexo
      </a> 
      &copy; 2022
    </p>
  </div>
</footer>
      </div>
    </div>
  </body>
</html>
